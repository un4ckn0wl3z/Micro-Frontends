(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"./node_modules/@babel/runtime/helpers/construct.js":function(e,n,t){var r=t("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");function o(n,t,s){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=o=function(e,n,t){var o=[null];o.push.apply(o,n);var s=new(Function.bind.apply(e,o));return t&&r(s,t.prototype),s}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},"./node_modules/@babel/runtime/helpers/isNativeFunction.js":function(e,n){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},"./node_modules/@babel/runtime/helpers/wrapNativeSuper.js":function(e,n,t){var r=t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),o=t("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),s=t("./node_modules/@babel/runtime/helpers/isNativeFunction.js"),a=t("./node_modules/@babel/runtime/helpers/construct.js");function i(n){var t="function"==typeof Map?new Map:void 0;return e.exports=i=function(e){if(null===e||!s(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},i(n)}e.exports=i},"./node_modules/exenv/index.js":function(e,n,t){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),s={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return s}.call(n,t,n,e))||(e.exports=r)}()},"./node_modules/serialize-javascript/index.js":function(e,n,t){"use strict";var r=Math.floor(1099511627776*Math.random()).toString(16),o=new RegExp('"@__(F|R|D)-'+r+'-(\\d+)__@"',"g"),s=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,i=/[<>\/\u2028\u2029]/g,l=["*","async"],c={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function u(e){return c[e]}e.exports=function(e,n){n||(n={}),"number"!=typeof n&&"string"!=typeof n||(n={space:n});var t,c=[],d=[],m=[];return"string"!=typeof(t=n.isJSON&&!n.space?JSON.stringify(e):JSON.stringify(e,n.isJSON?null:function(e,n){if(!n)return n;var t=this[e],o=typeof t;if("object"===o){if(t instanceof RegExp)return"@__R-"+r+"-"+(d.push(t)-1)+"__@";if(t instanceof Date)return"@__D-"+r+"-"+(m.push(t)-1)+"__@"}return"function"===o?"@__F-"+r+"-"+(c.push(t)-1)+"__@":n},n.space))?String(t):(!0!==n.unsafe&&(t=t.replace(i,u)),0===c.length&&0===d.length&&0===m.length?t:t.replace(o,function(e,n,t){return"D"===n?'new Date("'+m[t].toISOString()+'")':"R"===n?d[t].toString():function(e){var n=e.toString();if(s.test(n))throw new TypeError("Serializing native function: "+e.name);if(a.test(n))return n;var t=n.indexOf("("),r=n.substr(0,t).trim().split(" ").filter(function(e){return e.length>0});return r.filter(function(e){return-1===l.indexOf(e)}).length>0?(r.indexOf("async")>-1?"async ":"")+"function"+(r.join("").indexOf("*")>-1?"*":"")+n.substr(t):n}(c[t])}))}},"./src/components/meter/MeterController.jsx":function(e,n,t){"use strict";var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/@babel/runtime/helpers/objectSpread.js"),a=t.n(s),i=t("./node_modules/@babel/runtime/helpers/typeof.js"),l=t.n(i),c=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=t.n(c),d=t("./node_modules/react/index.js"),m=t.n(d),p=t("./node_modules/react-redux/es/index.js"),f=t("./node_modules/graphql-tag/src/index.js"),g=t.n(f);function b(){return(b=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var h=m.a.createElement("path",{d:"M3.9 6.77l5.2 5.76.43.47.43-.47 5.15-5.7-.85-.77-4.73 5.25L4.75 6z",fillRule:"evenodd"}),x=function(e){return m.a.createElement("svg",b({width:19,height:19},e),h)},v=t("./src/framework/design-system/components/index.js"),y=t("./src/styles/colors.js"),j=t("./src/styles/zIndex.js"),E=t("./src/components/style/BaseThemeProvider.js"),_=function(){return{"0%":{transform:"translateY(100%)"},"90%":{transform:"translateY(-5%)"},"100%":{transform:"translateY(0%)"}}},w=function(){return{"0%":{transform:"translateY(0%)",opacity:1},"10%":{transform:"translateY(-5%)",opacity:1},"100%":{transform:"translateY(100%)",opacity:0}}},S=function(e,n){return function(t){return{position:"fixed",bottom:"0",width:"100%",transform:n?"translateY(0%)":"translateY(100%)",transition:"max-height 800ms ease-in",animation:"".concat(e," ").concat(n?800:550,"ms ease-in-out"),zIndex:j.a.metabarCenter}}},P=function(e){var n=e.children,t=e.hide,r=e.isVisible,o=e.responsiveRules,s=e.timeOut,a=e.width,i=d.useState(!1),l=u()(i,2),c=l[0],m=l[1],p=d.useState(null),f=u()(p,2),g=f[0],b=f[1];return s&&!g?b(setTimeout(t,s)):s||clearTimeout(g),r||setTimeout(function(){m(!0)},800),c?null:d.createElement(E.a,null,d.createElement(v.L,null,function(e){return d.createElement(v.M,{keyframes:{shiftUp:_,shiftDown:w}},function(t){var s=t.shiftUp,i=t.shiftDown;return d.createElement("div",{className:e(r?[S(s,r)]:[S(i,r)])},d.createElement(v.N,null,function(e){return d.createElement(v.b,{boxShadow:"0px 2px 10px ".concat(e.baseColor.border.lighter),width:a||"100%",background:y.w,borderRadius:"4px 4px 0 0",position:"relative",margin:"0 auto",sm:{margin:"0 8px 8px 8px",width:"initial",borderRadius:"4px"},md:o&&o.md||{}},n)}))})}))},R=t("./src/components/session/WithViewer.jsx"),O=t("./src/framework/design-system/util/style/responsiveStyles.js"),I=t("./src/framework/design-system/type/index.js"),C=t("./node_modules/pluralize/pluralize.js"),k=t.n(C),T=t("./src/util/numbers.js"),M=function(e){return e<1||e>9?"".concat(e):Object(T.c)(e)},L=function(e,n){switch(e){case 1:case 6:return"Smart stories. New ideas. No ads. $5/month.";case 2:case 7:case 11:return"Read smarter, not harder.";case 3:case 8:return"Some thoughts are worth more than a penny.";case 4:case 9:return"Know more. Upgrade today.";case 5:case 10:default:return"This is the only ad on ".concat(n,". You can make it go away.")}},B=function(e,n,t){var r=n-e,o=M(r),s=k()("story",r);switch(e){case 1:return{lg:"Members get unlimited access to the best stories on ".concat(t," — but you can read ").concat(M(n)," for free this month. Upgrade for $5/month."),sm:"Welcome to your free member preview for this month. Upgrade for unlimited access."};case 5:case 10:return{lg:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(s," left in your free member preview this month, so upgrade today for more big ideas and insightful stories."),sm:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(s," left in your free member preview this month.")};default:return{lg:"You have ".concat(o," ").concat(s," remaining in your free member preview for this month. Unlock the best of ").concat(t," when you upgrade for $5/month."),sm:"You have ".concat(o," ").concat(s," remaining in your free member preview this month.")}}},D=function(e){return{marginTop:"1px",fontStyle:"normal",fontWeight:500,fontFamily:e.font.marketing.family,display:"flex",justifyContent:"center",height:"100px",flexDirection:"column",textAlign:"center"}},A=function(){return{height:"100px",overflow:"hidden",position:"relative",":after":{position:"absolute",bottom:"0",height:"100%",width:"100%",content:'""',background:"linear-gradient(to bottom, ".concat(y.w," 0%, ").concat(Object(y.u)(0)," 25%, ").concat(Object(y.u)(0)," 75%, ").concat(y.w," 100% )")}}},U=function(){return{"25%":{opacity:"1.0"},"50%":{opacity:"0.2"},"75%":{opacity:"1.0"},"100%":{transform:"translateY(calc(-100% + 100px))"}}},N=function(e){var n=e.maxNumber,t=e.minNumber;return d.createElement(v.L,null,function(e){return d.createElement(v.M,{keyframes:{rollUp:U}},function(r){var o,s=r.rollUp;return d.createElement("div",{className:e(A)},d.createElement("div",{className:e((o=s,function(e){return{fontSize:"42px",color:e.accentColor.fill.normal,fill:e.accentColor.fill.normal,animation:"".concat(o," 1.5s cubic-bezier(.68, 0, .15,1) forwards 800ms")}}))},function(e){for(var r=[],o=0;o<n-t+1;o++)r.push(d.createElement("div",{className:e(D),key:"number".concat(n-o)},n-o));return r}(e)))})})},F=t("./src/components/upsell/UpsellClickable.jsx"),W=t("./src/framework/source/index.js"),z=t("./src/framework/style/index.js"),V=t("./src/framework/track/UpsellPresentationTracker.jsx");function q(){var e=o()(["\n  fragment LIMeterBanner_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return q=function(){return e},e}var G=function(e){return 1===e?null:{md:{width:"740px"}}},H=function(e){return function(n){var t=e?"solid 1px ".concat(n.baseColor.border.lighter):"none";return Object(O.a)(n,{maxHeight:e?"200px":0,overflow:"hidden",animationDelay:"200ms",transition:"max-height 250ms ease-in",borderTop:{xs:t,sm:t,md:"none",lg:"none",xl:"none"},paddingTop:{xs:e?"12px":"0",sm:e?"12px":"0",md:"0",lg:"0",xl:"0"}})}},K=function(e){return function(n){var t=e?"none":"block",r="block";return Object(O.a)(n,{visibility:e?"hidden":"visible",fill:n.baseColor.text.lighter,":hover":{fill:n.baseColor.text.normal},display:{xs:t,sm:t,md:r,lg:r,xl:r}})}},Y=Object(p.b)(function(e){return{productName:e.config.productName}})(function(e){var n=e.meterCount,t=e.meterLimit,r=e.post,o=e.productName,s=d.useState(!1),a=u()(s,2),i=a[0],l=a[1],c=Object(z.f)(),m=function(e,n,t,r){var o=e>1||document.body.offsetWidth<=r.breakpoints.md;return{headlineCopy:L(e,t),isTimer:o,microCopy:B(e,n,t)}}(n,t,o,c),p=m.headlineCopy,f=m.microCopy,g=m.isTimer,b=function(){return d.createElement(W.b,{source:{name:"upgrade_membership",dimension:"post_counter"}},d.createElement(V.a,null,d.createElement(v.b,{marginTop:"28px",paddingBottom:"36px",sm:{display:"none"},display:"inline-block",textAlign:"center"},d.createElement(F.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"REGULAR",post:r},d.createElement(R.a,null,function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"}))),d.createElement(v.b,{display:"none",paddingBottom:"20px",sm:{margin:"12px 0 0",display:"block"},textAlign:"center"},d.createElement(F.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"SMALL",post:r},d.createElement(R.a,null,function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"})))))};return d.createElement(E.a,null,d.createElement(v.K,{initialVisibility:!0},function(e){var r=e.isVisible,o=e.hide;return d.createElement(P,{hide:o,isVisible:r,timeOut:g&&!i?6e3:null,width:n>1?"1024px":"100%",responsiveRules:G(n)},d.createElement(v.L,null,function(e){return d.createElement(v.b,{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 40px",maxWidth:"1040px",margin:"0 auto",sm:{padding:"0"}},d.createElement(v.b,{display:"flex"},d.createElement(v.b,{sm:{padding:"0 20px"}},d.createElement(N,{minNumber:t-n,maxNumber:t})),d.createElement(v.b,{display:"flex",flexDirection:"column",paddingLeft:"40px",flexShrink:"1",flexGrow:"1",sm:{padding:"0",margin:"0",justifyContent:"center"},marginTop:"34px"},d.createElement(v.b,{paddingBottom:"16px",sm:{paddingBottom:"0"}},d.createElement(I.b,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"},roleAndWeight:"MARKETING"},p)),d.createElement(v.b,{sm:{display:"none"}},d.createElement("div",{className:e(H(i))},d.createElement(I.a,{scale:"L"},f.lg),d.createElement(b,null)))),d.createElement(v.b,{display:"flex",flexDirection:"column",justifyContent:i?"flex-start":"center",marginTop:i?"33px":"0",sm:{justifyContent:"center",margin:"0"}},d.createElement(v.b,{display:"flex",justifyContent:"center",padding:"12px"},d.createElement("div",{className:e(K(!!i))},d.createElement(I.a,{scale:"M"},d.createElement(v.v,{onClick:function(){return l(!0)},linkStyle:"SUBTLE"},d.createElement(v.b,{display:"inline",md:{display:"none",marginRight:"0"},marginRight:"4px"},"Details"),d.createElement(v.b,{display:"inline",sm:{margin:"0",display:"block"}},d.createElement(x,null))))),d.createElement(v.b,{marginLeft:"24px",sm:{display:i?"block":"none",margin:"0"}},g&&!i?d.createElement(v.i,{delay:800,duration:5200,radius:8,strokeWidth:4}):d.createElement(v.g,{onClick:o,isPositionAbsolute:!1,size:"SMALL"}))))),d.createElement(v.b,{display:"none",sm:{padding:"0 12px",textAlign:"center",display:"block"}},d.createElement("div",{className:e(H(i))},d.createElement(I.a,{scale:"L"},f.sm),d.createElement(b,null))))}))}))}),$=g()(q(),F.b),Q=t("./src/components/susi/oauth-buttons/FacebookSusiButton.jsx"),J=t("./src/components/susi/oauth-buttons/GoogleSusiButton.jsx"),X=t("./src/components/susi/SusiClickable.jsx"),Z=t("./src/util/miroImage.js");function ee(){var e=o()(["\n  fragment LOMeterBanner_post on Post {\n    id\n  }\n"]);return ee=function(){return e},e}var ne=function(){var e=Object(Z.b)({miroId:"1*LyzKW5k0VC763U3vP6udTQ.png",height:128,width:227,strategy:"RESAMPLE"}),n="url(".concat(e,")");return d.createElement(v.b,{display:"flex",maxWidth:"227px",flexBasis:"227px",backgroundImage:n,backgroundPosition:"right center",backgroundSize:"cover",md:{display:"none"}})},te=function(){var e={operation:"register"};return d.createElement(v.b,{display:"flex",marginTop:"12px",textAlign:"center",sm:{flexDirection:"column",marginBottom:"12px"}},d.createElement(v.b,{marginRight:"12px",sm:{marginRight:"0px",marginBottom:"12px"}},d.createElement(J.a,e)),d.createElement(Q.a,e))},re=function(e){var n=e.post;return d.createElement(v.K,{initialVisibility:!0},function(e){var t=e.isVisible,r=e.hide;return d.createElement(P,{hide:r,isVisible:t},d.createElement(v.b,{marginLeft:"12px",marginRight:"12px",display:"flex",flexDirection:"row",md:{marginLeft:"36px",marginRight:"36px",paddingTop:"10px",paddingBottom:"20px"},sm:{marginLeft:"12px",marginRight:"12px",flexDirection:"column"}},d.createElement(ne,null),d.createElement(W.b,{source:{susiEntry:"smart_meter",postId:n.id}},d.createElement(v.b,{display:"flex",flexDirection:"column",marginTop:"20px",marginBottom:"20px",marginLeft:"56px",flexGrow:"1",flexShrink:"1",md:{marginLeft:"0px"},sm:{marginTop:"0px",marginBottom:"0px",marginLeft:"0px"}},d.createElement(v.b,{display:"flex",flexDirection:"row-reverse",sm:{flexDirection:"column"}},d.createElement(v.b,{position:"relative",right:"0",marginBottom:"12px",marginRight:"12px",marginTop:"-12px",marginLeft:"12px",md:{marginRight:"0px"},sm:{width:"100%",textAlign:"right",marginBottom:"8px",marginRight:"0px",marginTop:"0px",marginLeft:"0px"}},d.createElement(v.g,{onClick:r,isPositionAbsolute:!1,size:"LARGE"})),d.createElement(v.b,{marginRight:"56px",flexGrow:"1",flexShrink:"1",sm:{textAlign:"center",marginRight:"0"}},d.createElement(I.b,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"},roleAndWeight:"MARKETING"},"Get one more story in your member preview when you sign up. It’s free."))),d.createElement(v.b,{display:"flex",flexDirection:"row",alignItems:"center",sm:{flexDirection:"column",paddingTop:"4px"}},d.createElement(te,null),d.createElement(v.b,{display:"flex",textAlign:"left",marginTop:"12px",sm:{textAlign:"center",marginLeft:"0px",marginTop:"0px"},marginLeft:"12px",flexShrink:"1"},d.createElement(I.a,{scale:"L"},"Already have an account?"," ",d.createElement(X.a,{isObvious:!0,operation:"login",susiEntry:"smart_meter"},"Sign in"))))))))})},oe=g()(ee()),se=t("./src/components/susi/susi-modal/SusiModal.jsx"),ae=t("./src/framework/reporter/index.js"),ie=t("./src/store/actions/googleOneTap.js");function le(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return le=function(){return e},e}function ce(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIMeterBanner_post\n    ...LOMeterBanner_post\n    ...SusiModal_post\n  }\n  ","\n  ","\n  ","\n"]);return ce=function(){return e},e}t.d(n,"b",function(){return de}),t.d(n,"a",function(){return me});var ue={hideGoogleOneTap:ie.b},de=(n.c=Object(p.b)(null,ue)(function(e){var n=e.meteringInfo,t=e.post,r=e.hideGoogleOneTap,o=Object(ae.c)(),s=n.postIds.length,i={postId:t.id,unlockCount:s},c=d.useState(!1),m=u()(c,2),p=m[0],f=m[1];d.useEffect(function(){void 0!==("undefined"==typeof document?"undefined":l()(document))&&f(!0)},[]);var g=function(e){return d.createElement(se.a,{initialVisibility:!0,operation:"register",post:t,susiEntry:e})},b=function(e){return e?function(e){var r=n.maxUnlockCount||3;return s<=r?(o.event("meter.showMeterBanner",a()({},i,{userId:e&&e.id||void 0,type:1})),d.createElement(Y,{meterCount:s,meterLimit:r,post:t})):null}(e):function(e){var n=a()({},i,{userId:e&&e.id||void 0});switch(s){case 1:return o.event("meter.showMeterBanner",a()({},n,{type:"3"})),d.createElement(re,{post:t});case 2:return r(),o.event("meter.showMeterBanner",a()({},n,{type:"2"})),g("metered_view_2");case 3:return r(),o.event("meter.showMeterBanner",a()({},n,{type:"2"})),g("metered_view_3");default:return null}}(e)};return d.createElement(R.a,null,function(e){return d.createElement(d.Fragment,null,!function(e){var r=e&&e.mediumMemberAt||void 0,o=t&&t.creator&&t.creator.id||void 0,s=e&&e.id||void 0,a=e?r||o===s:"LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource;return!p||!t.isLocked||!n.postIds.includes(t.id)||a}(e)&&b(e))})}),g()(ce(),$,oe,se.b)),me=g()(le())},"./src/components/post/InResponseToPostPreview.jsx":function(e,n,t){"use strict";var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/react/index.js"),a=t.n(s),i=t("./node_modules/graphql-tag/src/index.js"),l=t.n(i),c=t("./src/components/post/paragraph/TextParagraph.jsx"),u=t("./src/components/ui/Card.jsx"),d=t("./src/framework/design-system/components/index.js"),m=t("./src/util/routes.js"),p=t("./src/util/numbers.js");function f(){return(f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var g=a.a.createElement("g",{fillRule:"evenodd"},a.a.createElement("path",{d:"M6.93 15.34l-2.06-2.06c-2.16-2.16-3.53-3.15-2.9-3.79.33-.32.8-.39 1.2 0l2.13 2.2c.08.08.16.07.38.13.21.05.36-.05.54-.23.17-.16.07-.6-.09-.77L3.5 8.2c-.37-.36-.5-1-.1-1.39.37-.37.8-.19 1.14.15.39.38 2.7 2.76 2.7 2.76a.42.42 0 0 0 .3.13.54.54 0 0 0 .33-.16c.17-.16.25-.46.09-.63 0 0-1.34-1.4-1.82-1.88-.71-.72-.77-1.22-.46-1.54.45-.44 1.05-.3 1.86.62l3.58 3.89-.75-1.95s-.47-1.25 0-1.5.84.4 1.17.9l1.86 3.34c1.01 1.65.69 3.8-.73 5.19-1.87 1.87-4.07.87-5.73-.78zM10.26.04H8.73l.77 3.3zM13.93 1.2L12.5.7l-.4 3.36zM6.5.57l-1.44.52L6.9 3.93z"}),a.a.createElement("path",{d:"M14.3 7.03c-.34-.5-.9-.52-1.25-.24-.25.19-.21.6-.2.9l1.51 2.64c1.17 1.9 1.33 3.66 0 5.45.4-.19.52-.23.9-.61 1.52-1.52 1.86-3.32.85-4.96l-1.8-3.18z"})),b=function(e){return a.a.createElement("svg",f({width:19,height:19,viewBox:"0 0 19 19"},e),g)};function h(){return(h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var x=a.a.createElement("path",{d:"M16.19 9.42c0 1.67-.72 2.84-2.03 4l-.1.09v.13a4.3 4.3 0 0 0 .15.85c.17.6.46 1.2.86 1.8a4.94 4.94 0 0 1-2.46-.84c-.26-.17-.33-.2-.54-.4l-.13-.12-.16.05c-.68.2-2.75.46-4.88-.16a5.9 5.9 0 0 1-4.1-5.4c0-3.37 3-6.12 6.7-6.12s6.69 2.75 6.69 6.12z",fillRule:"evenodd"}),v=function(e){return a.a.createElement("svg",h({width:19,height:19,viewBox:"0 0 19 19"},e),x)},y=t("./src/util/quote.js"),j=t("./src/components/stream/Quote.jsx");function E(){var e=o()(["\n  fragment InResponseToPostPreview_mediaResource on Post {\n    inResponseToMediaResource {\n      mediumQuote {\n        ...Quote_quote\n      }\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function _(){var e=o()(["\n  fragment InResponseToPostPreview_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        name\n      }\n      clapCount\n      responsesCount\n    }\n  }\n"]);return _=function(){return e},e}t.d(n,"a",function(){return w}),t.d(n,"c",function(){return S}),t.d(n,"b",function(){return P});var w=function(e){var n,t=e.inResponseToPostResult,r=e.inResponseToMediaResource,o=e.padding;if(t)switch(t.__typename){case"Post":n=t}if(!n)return null;var a=n.title,i=n.creator&&n.creator.name,l=parseInt(n.clapCount,10),f=parseInt(n.responsesCount,10),g=r&&r.mediumQuote&&Object(y.a)(r.mediumQuote),h=g&&g.type,x=s.createElement(d.f,{href:Object(m.V)(n)},s.createElement(u.a,null,s.createElement(d.B,{ui:"REGULAR"},s.createElement(d.b,{paddingLeft:"20px",paddingRight:"20px"},g&&h&&s.createElement(d.b,{paddingBottom:"20px"},s.createElement(c.c,{paragraph:g,paragraphStyle:h,spaceTop:10,richTextStyle:"STREAM"})),s.createElement(d.b,{display:"flex"},s.createElement(d.b,{display:"flex",flexGrow:"1",flexShrink:"1",alignItems:"center"},s.createElement(d.d,{strong:!0,clamp:1},a)),s.createElement(d.d,null,s.createElement(d.b,{display:"flex",flexGrow:"0",alignItems:"center"},l>0?s.createElement(d.b,{display:"flex",alignItems:"center"},s.createElement(d.b,{tag:b,marginRight:"4px"}),s.createElement("div",null,Object(p.b)(l))):null,f>0?s.createElement(d.b,{display:"flex",alignItems:"center"},s.createElement(d.b,{tag:v,marginLeft:"8px",marginRight:"4px"}),s.createElement("div",null,Object(p.b)(f))):null))),s.createElement(d.d,null,i)))));return o?s.createElement(d.b,{padding:o},x):x},S=l()(_()),P=l()(E(),j.a)},"./src/components/post/PostCanonicalizer.js":function(e,n,t){"use strict";t.d(n,"b",function(){return b}),t.d(n,"a",function(){return h});var r=t("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=t.n(r),s=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),a=t.n(s),i=t("./node_modules/react/index.js"),l=t("./node_modules/graphql-tag/src/index.js"),c=t.n(l),u=t("./node_modules/react-redux/es/index.js"),d=t("./node_modules/url/url.js"),m=t.n(d),p=t("./src/components/navigation/Redirect.jsx"),f=t("./src/util/navigation.js");function g(){var e=a()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return g=function(){return e},e}var b=c()(g()),h=Object(u.b)(function(e){return{currentHost:e.navigation.host,shareKey:e.navigation.shareKey,source:e.navigation.referrerSource}})(function(e){var n=e.post,t=e.matchedPath,r=e.children,s=e.currentHost,a=e.shareKey,l=e.source,c=n.mediumUrl;if(!c)return r;var u=m.a.parse(decodeURIComponent(c)),d=o()({},l?{source:l}:{},a?{sk:a}:{});return s!==u.host?i.createElement(p.a,{to:Object(f.a)(c,d)}):u.path&&t!==u.path?i.createElement(p.a,{to:Object(f.a)(u.path,d)}):r})},"./src/components/stream/Quote.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return w});var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=t.n(s),i=t("./node_modules/@babel/runtime/helpers/createClass.js"),l=t.n(i),c=t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=t.n(c),d=t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=t.n(d),p=t("./node_modules/@babel/runtime/helpers/inherits.js"),f=t.n(p),g=t("./node_modules/react/index.js"),b=t("./node_modules/graphql-tag/src/index.js"),h=t.n(b),x=t("./src/framework/design-system/components/index.js"),v=t("./src/util/routes.js"),y=t("./src/components/post/paragraph/TextParagraph.jsx"),j=t("./src/util/quote.js");function E(){var e=o()(["\n  fragment Quote_quote on Quote {\n    quoteId\n    userId\n    post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        username\n        name\n      }\n    }\n    startOffset\n    endOffset\n    paragraphs {\n      text\n      type\n      markups {\n        anchorType\n        end\n        href\n        rel\n        start\n        title\n        type\n        userId\n      }\n      ...TextParagraph_paragraph\n    }\n  }\n  ","\n"]);return E=function(){return e},e}var _=function(e){function n(){return a()(this,n),u()(this,m()(n).apply(this,arguments))}return f()(n,e),l()(n,[{key:"render",value:function(){var e=this.props.quote;if(!e||null==e.startOffset||null==e.endOffset||!e.post||!e.post.id)return null;var n=e.post.title,t=e.post.creator&&e.post.creator.name,r=e.post.creator&&e.post.creator.username;if(!t||!r)return null;var o=Object(j.a)(e),s=o&&o.type;return o&&s?g.createElement(x.b,{paddingLeft:"20px",paddingRight:"20px"},g.createElement(x.B,{ui:"REGULAR"},g.createElement(x.d,null,"From"," ",g.createElement(x.v,{href:Object(v.V)(e.post),inline:!0},n)," ","by"," ",g.createElement(x.v,{href:Object(v.Gb)(r),inline:!0},t))),g.createElement(x.f,{href:Object(v.V)(e.post)},g.createElement(y.c,{paragraph:o,paragraphStyle:s,spaceTop:30,richTextStyle:"STREAM"}))):null}}]),n}(g.Component);n.b=_;var w=h()(E(),y.c.fragments.paragraph)},"./src/components/susi/FreePostSusiController.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return _});var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=t.n(s),i=t("./node_modules/react/index.js"),l=t("./node_modules/graphql-tag/src/index.js"),c=t.n(l),u=t("./node_modules/react-redux/es/index.js"),d=t("./node_modules/date-fns/index.js"),m=t("./src/framework/reporter/index.js"),p=t("./src/components/susi/susi-modal/SusiModal.jsx"),f=t("./src/screens/helpers/visits.js"),g=t("./src/util/referrers.js"),b=t("./src/components/session/WithViewer.jsx"),h=t("./src/store/actions/googleOneTap.js"),x=t("./src/framework/style/index.js");function v(){var e=o()(["\n  fragment FreePostSusiController_post on Post {\n    visibility\n    latestPublishedVersion\n    collection {\n      id\n      domain\n      slug\n    }\n    ...SusiModal_post\n  }\n  ","\n"]);return v=function(){return e},e}var y=function(e,n,t){var r="UNLISTED"===e.visibility||!e.latestPublishedVersion,o=e.collection,s=t&&!n.includes(o&&o.id),a=!(!o||!o.slug||"policy"!==o.slug);return r||s||a};function j(e){var n=e.post,t=e.referrer,r=(e.source,e.isBot),o=e.isCustomDomain,s=e.signInWallCustomDomainCollectionIds,l=e.hideGoogleOneTap,c=e.theme,u=Object(m.c)(),h=i.useState(!1),x=a()(h,2),v=x[0],j=x[1];i.useEffect(function(){(function(e,n,t,r,o,s){return!(Object(f.c)()<1||n||document.body.offsetWidth<s.breakpoints.lg||Object(g.a)(e)||Object(d.addDays)(Object(f.b)(),1)>Date.now()||y(r,o,t))})(t,r,o,n,s,c)&&(j(!0),Object(f.f)(),l(),u.event("signInWall.eligible"))},[n.id]);var E=o?"post_custom_domain":"post_free";return i.createElement(b.a,null,function(e){return!e&&v?i.createElement(p.a,{initialVisibility:!0,operation:"register",post:n,susiEntry:E}):null})}var E={hideGoogleOneTap:h.b};n.b=Object(u.b)(function(e){return{referrer:e.navigation.referrer,isBot:e.client.isBot,signInWallCustomDomainCollectionIds:e.config.signInWallCustomDomainCollectionIds,isCustomDomain:e.client.isCustomDomain}},E)(function(e){var n=e.post,t=e.referrer,r=e.source,o=e.isBot,s=e.isCustomDomain,a=e.signInWallCustomDomainCollectionIds,l=e.hideGoogleOneTap;return i.createElement(x.d,null,function(e){return i.createElement(j,{post:n,referrer:t,source:r,isBot:o,isCustomDomain:s,signInWallCustomDomainCollectionIds:a,hideGoogleOneTap:l,theme:e})})});var _=c()(v(),p.b)},"./src/components/tns/SuspendedBannerLoader.jsx":function(e,n,t){"use strict";t.d(n,"b",function(){return m}),t.d(n,"a",function(){return p});var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/react/index.js"),a=t("./node_modules/react-redux/es/index.js"),i=t("./node_modules/graphql-tag/src/index.js"),l=t.n(i),c=t("./src/store/actions/navigation.js");function u(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function d(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return d=function(){return e},e}n.c=Object(a.b)()(function(e){var n=e.dispatch,t=e.user,r=e.post;return s.useEffect(function(){t&&t.isSuspended?n(Object(c.j)({duration:"FOREVER",message:"This is a suspended user.",toastStyle:"ERROR"})):r&&r.isSuspended&&n(Object(c.j)({duration:"FOREVER",message:"This story is suspended.",toastStyle:"ERROR"}))},[]),null});var m=l()(d()),p=l()(u())},"./src/components/ui/Card.jsx":function(e,n,t){"use strict";var r=t("./node_modules/react/index.js"),o=t("./src/framework/design-system/components/index.js"),s=t("./src/framework/style/index.js");n.a=function(e){var n=e.children,t=Object(s.f)();return r.createElement(o.b,{backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",borderRadius:"5px",boxShadow:"0 1px 4px ".concat(t.baseColor.border.lighter),marginBottom:"24px",padding:"23px 0"},n)}},"./src/handlers/PostHandler.jsx":function(e,n,t){"use strict";t.r(n);var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/react/index.js"),a=t("./node_modules/graphql-tag/src/index.js"),i=t.n(a),l=t("./src/components/meter/MeterController.jsx"),c=t("./src/components/post/PostCanonicalizer.js"),u=t("./src/components/susi/FreePostSusiController.jsx"),d=t("./src/framework/source/index.js"),m=t("./src/handlers/SharedPostHandler.jsx"),p=t("./src/screens/PostScreen.jsx"),f=t("./src/screens/UnavailableForLegalReasonsScreen.jsx"),g=t("./src/screens/WithheldInCountryScreen.jsx"),b=t("./src/components/session/WithFlag.jsx");function h(){var e=o()(["\n  query PostHandler($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...MeterController_meteringInfo\n        ...PostScreen_meteringInfo\n      }\n    }\n    postResult(id: $postId) {\n      __typename\n      ... on WithheldInCountry {\n        ...WithheldInCountryScreen_withheldInCountry\n      }\n      ... on UnavailableForLegalReasons {\n        ...UnavailableForLegalReasonsScreen_unavailableForLegalReasons\n      }\n      ... on Post {\n        ...FreePostSusiController_post\n        ...MeterController_post\n        ...PostCanonicalizer_post\n        ...PostScreen_post\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return h=function(){return e},e}var x=i()(h(),u.a,l.a,l.b,c.b,p.b,p.a,f.a,g.a);n.default=function(e){var n=e.match;return s.createElement(m.a,{match:n,query:x},function(e){var n=e.meterPost,t=e.postId,r=e.postResult,o=e.enableMediaResourceTryCatch,a=e.viewer;return s.createElement(d.b,{source:{name:"post_page",postId:t}},s.createElement(b.a,{name:"enable_more_branch_data"},function(e){return s.createElement(p.c,{enableMoreBranchDataFlag:e,isLoggedIn:!!a,viewer:a,meteringInfo:n,post:r,enableMediaResourceTryCatch:o})}))})}},"./src/handlers/SharedPostHandler.jsx":function(e,n,t){"use strict";var r=t("./node_modules/react/index.js"),o=t("./node_modules/react-redux/es/index.js"),s=t("./node_modules/react-apollo/react-apollo.esm.js"),a=t("./src/screens/AccountSuspendedScreen.jsx"),i=t("./src/components/meter/MeterController.jsx"),l=t("./src/components/post/PostCanonicalizer.js"),c=t("./src/components/session/WithViewer.jsx"),u=t("./src/components/session/WithFlag.jsx"),d=t("./src/components/susi/FreePostSusiController.jsx"),m=t("./node_modules/@babel/runtime/helpers/classCallCheck.js"),p=t.n(m),f=t("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),g=t.n(f),b=t("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),h=t.n(b),x=t("./node_modules/@babel/runtime/helpers/inherits.js"),v=t.n(x),y=t("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),j=function(e){function n(){return p()(this,n),g()(this,h()(n).call(this,"Expected postResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id."))}return v()(n,e),n}(t.n(y)()(Error)),E=t("./src/screens/ContentErrorScreen.jsx"),_=t("./src/screens/ErrorScreen.jsx"),w=t("./src/screens/LoadingScreen.jsx"),S=t("./src/framework/design-system/components/index.js");function P(){var e=r.createElement(r.Fragment,null,"This story is under investigation or was found in violation of the"," ",r.createElement(S.v,{href:"https://medium.com/policy/30e5502c4eb4",display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium Rules"));return r.createElement(E.a,{code:410,title:"410 Story suspended — Medium",description:e})}var R=t("./src/screens/NotFoundScreen.jsx"),O=t("./src/screens/UnavailableForLegalReasonsScreen.jsx"),I=t("./src/screens/WithheldInCountryScreen.jsx");t.d(n,"a",function(){return C});var C=Object(o.b)(function(e){return{source:e.navigation.referrerSource||void 0,referrer:e.navigation.referrer,shareKey:e.navigation.shareKey}})(function(e){var n=e.children,t=e.match,o=e.query,m=e.referrer,p=e.shareKey,f=e.source,g=t.params.postIdOrSlug||t.params.postSlug||t.params.postId;if(!g)return r.createElement(R.a,null);var b=/^(?:[^\/]*-)?([0-9a-f]+)$/.exec(g||""),h=b&&b[1];return h?r.createElement(s.c,{query:o,variables:{postId:h,postMeteringOptions:{referrer:m,source:f,sk:p}}},function(e){var o=e.loading,s=e.error,m=e.data,p=(m=void 0===m?{}:m).meterPost,f=m.postResult;if(o)return r.createElement(w.a,null);if(s)return r.createElement(_.a,{error:s});if(!f)return r.createElement(_.a,{error:new j});switch(f.__typename){case"Post":var g=r.createElement(d.b,{post:f}),b=r.createElement(i.c,{meteringInfo:p,post:f});return r.createElement(l.a,{post:f,matchedPath:t.url,key:h},f.isLocked?b:g,r.createElement(u.a,{name:"enable_media_resource_try_catch"},function(e){return r.createElement(c.a,null,function(t){return n({meterPost:p,postId:h,postResult:f,enableMediaResourceTryCatch:!!e,viewer:t})})}));case"NotFound":return r.createElement(R.a,null);case"AccountSuspended":return r.createElement(a.a,null);case"PostSuspended":return r.createElement(P,null);case"RemovedByUser":return r.createElement(E.a,{code:410,title:"410 Deleted by author — Medium",description:"The author deleted this Medium story."});case"UnavailableForLegalReasons":return r.createElement(O.b,{errorData:f});case"WithheldInCountry":return r.createElement(I.b,{errorData:f});default:return r.createElement(_.a,{error:new Error("Unsupported postResult: ".concat(f.__typename))})}}):r.createElement(R.a,null)})},"./src/screens/AccountSuspendedScreen.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return a});var r=t("./node_modules/react/index.js"),o=t("./src/framework/design-system/components/index.js"),s=t("./src/screens/ContentErrorScreen.jsx");function a(){var e=r.createElement(r.Fragment,null,"This account is under investigation or was found in violation of the"," ",r.createElement(o.v,{href:"https://medium.com/policy/30e5502c4eb4",display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium Rules"));return r.createElement(s.a,{code:410,title:"410 Account suspended — Medium",description:e})}},"./src/screens/ContentErrorScreen.jsx":function(e,n,t){"use strict";t.d(n,"a",function(){return g});var r=t("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=t.n(r),s=t("./node_modules/react/index.js"),a=t("./node_modules/react-helmet-async/lib/index.module.js"),i=t("./node_modules/react-router/es/Route.js"),l=t("./src/components/metabar/Metabar.jsx"),c=t("./src/framework/design-system/components/index.js"),u=t("./src/framework/design-system/util/type/toRule.js"),d=t("./src/styles/font.js"),m={fontSize:"20px",textTransform:"uppercase"},p=function(e){return o()({},Object(u.a)(function(e){return{font:e.font.marketing,fontSize:192,lineHeight:200,display:"block"}})(e))},f={fontSize:"24px"};function g(e){var n=e.code,t=e.title,r=e.description,o=e.lumenId;return s.createElement(i.a,{render:function(e){var i=e.staticContext;return i&&(i.status=n),s.createElement(c.N,null,function(e){return s.createElement(c.L,null,function(e){return s.createElement("div",null,s.createElement(a.a,null,s.createElement("title",null,t)),s.createElement(l.a,null),s.createElement(c.b,{tag:"section",paddingTop:"60px",paddingBottom:"60px"},s.createElement(c.C,{columns:8},s.createElement(c.b,{display:"flex",alignItems:"flex-start",flexWrap:"wrap"},s.createElement(c.b,{display:"flex",flexDirection:"column"},s.createElement("div",{className:e(m)},"Error"),s.createElement("div",{className:e(p)},n)),s.createElement("div",{className:e(Object(d.k)())},s.createElement(c.b,{marginBottom:"28px"},s.createElement("div",{className:e(f)},r)),o?s.createElement("div",{className:e(f)},"A report is available on"," ",s.createElement(c.v,{href:"https://lumendatabase.org/notices/".concat(o),display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Lumen"),"."):null)))))})})}})}},"./src/screens/PostScreen.jsx":function(e,n,t){"use strict";var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=t.n(s),i=t("./node_modules/react/index.js"),l=t("./node_modules/serialize-javascript/index.js"),c=t.n(l);function u(e){var n={__html:'<script type="application/json">'.concat(c()(e.json,{isJSON:!0}),"<\/script>")};return i.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:n})}var d=t("./node_modules/graphql-tag/src/index.js"),m=t.n(d),p=t("./node_modules/react-redux/es/index.js"),f=t("./src/components/analytics/ParselyReporter.js"),g=t("./src/components/branch-banner/helpers/index.js"),b=t("./src/components/debug/GoogleAnalytics.jsx"),h=t("./src/components/footer/GlobalFooter.js"),x=t("./src/components/metabar/Metabar.jsx"),v=t("./src/components/meter/PayWall.jsx"),y=t("./src/components/meter/RegWall.jsx"),j=t("./node_modules/@babel/runtime/helpers/extends.js"),E=t.n(j),_=t("./node_modules/react-apollo/react-apollo.esm.js"),w=t("./src/components/session/WithViewer.jsx");function S(){var e=o()(["\n  mutation addCollaborator($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return S=function(){return e},e}function P(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return P=function(){return e},e}var R=m()(P()),O=m()(S()),I=Object(_.d)(Object(_.f)(O,{name:"AddCollaborator_mutation",props:function(e){var n=e.ownProps,t=e.AddCollaborator_mutation;return{addCollaborator:function(){!n.post.isPublished&&n.viewerId&&t({variables:{postId:n.post.id}})}}}}))(function(e){var n=e.addCollaborator;return i.useEffect(n,[]),null}),C=function(e){return i.createElement(w.a,null,function(n){return i.createElement(I,E()({viewerId:n?n.id:""},e))})},k=t("./src/components/post/body/InteractivePostBody.js"),T=t("./src/components/post/footer/PostFooter.jsx"),M=t("./src/components/post/helpers/loggedOutHistory.js"),L=t("./src/components/post/MaybeRedirectToEditor.jsx"),B=t("./src/WatchBounds.js"),D=t("./src/framework/design-system/index.js"),A=t("./src/framework/design-system/components/index.js"),U=t("./src/components/post/PostByline.jsx"),N=t("./src/components/post/NormalizePostBodyModel.js");function F(){var e=o()(["\n  fragment PostBodyInserts_post on Post {\n    # please note that the postMeteringOptions is defined in handlers that use PostBodyInserts\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    ...PostByline_post\n  }\n  ","\n"]);return F=function(){return e},e}function W(e,n,t){return function(r){var o={marginTop:"32px"},s=i.createElement(A.L,null,function(n){return i.createElement(B.a,{className:n(o),name:"byline",type:"byline",offset:{left:-600}},i.createElement(U.b,{scale:"M",post:e,showBio:!1,hideCollection:!0}))}),a="number"==typeof t.titleIndex,l=t.subtitleIndex||t.titleIndex||0,c=n[l]&&n[l].name;return c&&0===l&&!a?r.first={order:"before",component:i.createElement(D.a,{size:"inset"},s)}:c&&(r[c]={order:"after",component:s}),r}}var z=m()(F(),U.a),V=t("./src/components/audio/AudioPlayback.jsx"),q=t("./src/components/post/InResponseToPostPreview.jsx"),G=t("./src/components/post/PostPaywallAlert.jsx");function H(){var e=o()(["\n  fragment PostHeader_post on Post {\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    ...InResponseToPostPreview_mediaResource\n    ...PostPaywallAlert_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return H=function(){return e},e}function K(e){var n=e.post;return i.createElement(A.C,{columns:8,display:"flex",flexDirection:"column"},i.createElement(q.a,{inResponseToPostResult:n.inResponseToPostResult,inResponseToMediaResource:n.inResponseToMediaResource,padding:"10px 0 0"}),!n.inResponseToPostResult&&i.createElement(G.a,{post:n}),n.audioVersionUrl&&i.createElement(V.a,{post:n}))}var Y=m()(H(),q.c,q.b,G.b,V.b),$=t("./src/components/post/PostMetadata.jsx"),Q=t("./src/components/post/PostPublishedDialog.jsx"),J=t("./src/components/post/PostSidebar.jsx"),X=t("./src/components/session/RequireFlag.jsx"),Z=t("./src/components/session/WithFlag.jsx"),ee=t("./src/components/tns/SuspendedBannerLoader.jsx"),ne=t("./src/framework/reporter/index.js"),te=t("./src/framework/track/index.js"),re=t("./src/screens/helpers/visits.js"),oe=t("./src/store/actions/branch.js"),se=t("./src/store/actions/navigation.js"),ae=(t("./src/store/reducers/navigation.js"),t("./src/util/routes.js")),ie=t("./src/util/theme.js");function le(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...Metabar_collection\n      ...RegWall_collection\n      ...ThemeUtilAccent_collection\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      ...SuspendedBannerLoader_user\n    }\n    firstPublishedAt\n    isPublished\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return le=function(){return e},e}function ce(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n"]);return ce=function(){return e},e}function ue(e,n,t){return"undefined"!=typeof window&&window.innerWidth<e.breakpoints.lg||n||t&&!n}t.d(n,"a",function(){return de}),t.d(n,"b",function(){return me});n.c=Object(p.b)(function(e){var n=e.client,t=e.config.authDomain,r=e.navigation,o=e.theme;return{authDomain:t,currentHash:r.currentHash,isBot:n.isBot,isDnt:n.isDnt,postPublishedType:r.postPublishedType,theme:o}})(function(e){var n=e.authDomain,t=e.currentHash,r=e.dispatch,o=e.isAmp,s=void 0!==o&&o,l=e.isBot,c=e.isDnt,d=e.isLoggedIn,m=e.meteringInfo,p=e.post,j=e.viewer,E=e.postPublishedType,_=e.enableMoreBranchDataFlag,w=(e.theme,e.enableMediaResourceTryCatch),S=p.id,P=p.isPublished,R=p.content,O=p.layerCake,I=p.primaryTopic,D=p.collection,U=p.canonicalUrl,F=D||{},z=F.id,V=F.slug,q=F.colorPalette,G=F.googleAnalyticsId,H=R||{},Y=H.isLockedPreviewOnly,le=H.validatedShareKey,ce=i.useState(!1),de=a()(ce,2),me=de[0],pe=de[1],fe=i.useRef(),ge=Object(ne.c)(),be=G?[G]:null;Object(b.b)(be,l,c,s),Object(te.i)(fe,p),Object(te.h)(c,d,fe,p);var he=function(e){var n=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(n)return[W(e,n,Object(N.d)(n))].reduce(function(e,n){return n(e)},{})}(p),xe=O&&(1===O||2===O||3===O),ve=xe?I:null;i.useEffect(function(){if(w&&(document.domain=document.domain),P){var e=_?Object(g.a)(p,m,j):{data:{}};D&&D.domain&&(e.data.$canonical_url=Object(ae.W)(n,p.id)),Object(g.f)(e),r(Object(oe.f)()),c||d||Object(re.e)(),ge.event("post.clientViewed",{postId:S,collectionId:z,collectionSlug:V,context:1,isFriendLink:!!le})}else ge.event("post.draftViewed",{postId:S});switch(c||d||Object(M.b)(S),E){case"initial":pe(!0),r(Object(se.h)());break;case"repub":r(Object(se.j)({duration:3e3,message:"Your changes have been published."})),r(Object(se.h)())}return function(){r(Object(oe.e)())}},[S,P]);var ye,je,Ee=function(e){if(q){var n=q.defaultBackgroundSpectrum,t=q.highlightSpectrum;return Object(ie.c)(n,t,e)}return e},_e=Y&&(d?i.createElement(v.a,{post:p}):i.createElement(y.a,{post:p,collection:D,meteringInfo:m}));if(t){var we=t.split("-");ye=we[0],je=we[1]}return i.createElement(i.Fragment,null,i.createElement(f.a,null),i.createElement(C,{post:p}),i.createElement(L.a,{post:p},i.createElement($.b,{isAmp:s,post:p}),i.createElement(X.a,{name:"can_view_blacklisted_posts"},i.createElement(ee.c,{post:p,user:p.creator})),i.createElement(A.N,null,function(e){return i.createElement(A.H,{theme:Ee(e)},i.createElement(Z.a,{name:"enable_lo_scroll_away_metabar"},function(n){return i.createElement(x.a,{behavior:ue(e,d,n)?"aggressive":"none",collection:D,isAmp:s,isFixed:!0,isMonogramOnly:!xe,marginBottom:0,marginBottomSm:0,post:p,topic:ve})}),i.createElement(B.c,null,i.createElement("article",null,i.createElement(K,{post:p}),i.createElement(k.b,{activeGrafId:ye,activeNoteId:je,post:p,postBodyInserts:he,ref:fe})),!Y&&!!P&&i.createElement(J.a,{post:p}),_e,i.createElement(T.b,{post:p})),i.createElement(Q.a,{hide:function(){return pe(!1)},isVisible:me,post:p}),!!P&&i.createElement(h.a,null))}),s?i.createElement(u,{json:{requests:{base:Object(ae.e)(n),pageview:Object(ae.b)(n),scrollPing:Object(ae.d)(n)},vars:{postId:S,collectionId:z,canonicalUrl:U},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}):""))});var de=m()(ce(),y.c,g.b),me=m()(le(),R,x.b,k.a,L.b,x.c,v.b,z,T.a,Y,$.a,Q.b,te.d,te.e,J.b,y.b,y.d,ee.a,ee.b,ie.a,g.c)},"./src/screens/UnavailableForLegalReasonsScreen.jsx":function(e,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return d});var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/react/index.js"),a=t("./node_modules/graphql-tag/src/index.js"),i=t.n(a),l=t("./src/screens/ContentErrorScreen.jsx");function c(){var e=o()(["\n  fragment UnavailableForLegalReasonsScreen_unavailableForLegalReasons on UnavailableForLegalReasons {\n    lumenId\n  }\n"]);return c=function(){return e},e}function u(e){var n=e.errorData;return s.createElement(l.a,{code:451,title:"451 Not available — Medium",description:"This story is subject to a DMCA copyright or other legal or government claim.",lumenId:n.lumenId})}var d=i()(c())},"./src/screens/WithheldInCountryScreen.jsx":function(e,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return d});var r=t("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=t.n(r),s=t("./node_modules/react/index.js"),a=t("./node_modules/graphql-tag/src/index.js"),i=t.n(a),l=t("./src/screens/ContentErrorScreen.jsx");function c(){var e=o()(["\n  fragment WithheldInCountryScreen_withheldInCountry on WithheldInCountry {\n    lumenId\n  }\n"]);return c=function(){return e},e}function u(e){var n=e.errorData;return s.createElement(l.a,{code:451,title:"451 Not available in your country — Medium",description:"This page is not available in your country.",lumenId:n.lumenId})}var d=i()(c())},"./src/util/quote.js":function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t("./node_modules/lodash/cloneDeep.js"),o=t.n(r);function s(e){if(1!==e.paragraphs.length)return null;var n=o()(e.paragraphs[0]),t=n.text||"",r=0,s=e.startOffset||0,a=e.endOffset||t.length;if(t.length-a>100&&(t=t.substring(0,a+100)+"…"),s>100){var i=s-100;t="…"+t.substring(i),r=i-1}n.text=t,n.type="P",n.markups.unshift({anchorType:null,end:a,href:null,rel:null,linkMetadata:null,start:s,title:null,type:"HIGHLIGHT",userId:null});var l=!0,c=!1,u=void 0;try{for(var d,m=n.markups[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){var p=d.value;p.start-=r,p.end-=r}}catch(e){c=!0,u=e}finally{try{l||null==m.return||m.return()}finally{if(c)throw u}}return n}}}]);
//# sourceMappingURL=screen.post.6c2ac719.chunk.js.map